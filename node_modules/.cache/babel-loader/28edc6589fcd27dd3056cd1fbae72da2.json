{"ast":null,"code":"import React, { useRef, useEffect } from 'react';\nvar DIRECTION;\n\n(function (DIRECTION) {\n  DIRECTION[DIRECTION[\"UP\"] = -1] = \"UP\";\n  DIRECTION[DIRECTION[\"DOWN\"] = 1] = \"DOWN\";\n})(DIRECTION || (DIRECTION = {}));\n\nfunction isOverflowScrollable(element) {\n  var overflowType = getComputedStyle(element).overflowY;\n\n  if (element === document.scrollingElement && overflowType === 'visible') {\n    return true;\n  }\n\n  if (overflowType !== 'scroll' && overflowType !== 'auto') {\n    return false;\n  }\n\n  return true;\n}\n\nfunction isScrollable(element, direction) {\n  if (!isOverflowScrollable(element)) {\n    return false;\n  }\n\n  if (direction === DIRECTION.DOWN) {\n    var bottomScroll = element.scrollTop + element.clientHeight;\n    return bottomScroll < element.scrollHeight;\n  }\n\n  if (direction === DIRECTION.UP) {\n    return element.scrollTop > 0;\n  }\n\n  throw new Error('unsupported direction');\n}\n/**\r\n * Returns whether a given element or any of its ancestors (up to rootElement) is scrollable in a given direction.\r\n */\n\n\nfunction isTreeScrollable(element, direction) {\n  if (isScrollable(element, direction)) {\n    return true;\n  }\n\n  if (element.parentElement == null) {\n    return false;\n  }\n\n  return isTreeScrollable(element.parentElement, direction);\n}\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".lds-ellipsis {\\n  display: inline-block;\\n  position: relative;\\n  width: 64px;\\n  height: 64px; }\\n\\n.lds-ellipsis div {\\n  position: absolute;\\n  top: 27px;\\n  width: 11px;\\n  height: 11px;\\n  border-radius: 50%;\\n  background: #363636;\\n  animation-timing-function: cubic-bezier(0, 1, 1, 0); }\\n\\n.lds-ellipsis div:nth-child(1) {\\n  left: 6px;\\n  animation: lds-ellipsis1 0.6s infinite; }\\n\\n.lds-ellipsis div:nth-child(2) {\\n  left: 6px;\\n  animation: lds-ellipsis2 0.6s infinite; }\\n\\n.lds-ellipsis div:nth-child(3) {\\n  left: 26px;\\n  animation: lds-ellipsis2 0.6s infinite; }\\n\\n.lds-ellipsis div:nth-child(4) {\\n  left: 45px;\\n  animation: lds-ellipsis3 0.6s infinite; }\\n\\n@keyframes lds-ellipsis1 {\\n  0% {\\n    transform: scale(0); }\\n  100% {\\n    transform: scale(1); } }\\n\\n@keyframes lds-ellipsis3 {\\n  0% {\\n    transform: scale(1); }\\n  100% {\\n    transform: scale(0); } }\\n\\n@keyframes lds-ellipsis2 {\\n  0% {\\n    transform: translate(0, 0); }\\n  100% {\\n    transform: translate(19px, 0); } }\\n\";\nstyleInject(css); // Source: https://loading.io/css/\n\nvar RefreshingContent = function () {\n  return React.createElement(\"div\", {\n    className: \"lds-ellipsis\"\n  }, React.createElement(\"div\", null), React.createElement(\"div\", null), React.createElement(\"div\", null), React.createElement(\"div\", null));\n};\n\nvar PullingContent = function () {\n  return React.createElement(\"div\", null, React.createElement(\"p\", null, \"\\u21A7\\u00A0\\u00A0pull to refresh\\u00A0\\u00A0\\u21A7\"));\n};\n\nvar css$1 = \".ptr,\\n.ptr__children {\\n  height: 100%;\\n  width: 100%;\\n  overflow: hidden;\\n  -webkit-overflow-scrolling: touch;\\n  position: relative; }\\n\\n.ptr.ptr--fetch-more-treshold-breached .ptr__fetch-more {\\n  display: block; }\\n\\n.ptr__fetch-more {\\n  display: none; }\\n\\n/**\\n  * Pull down transition \\n  */\\n.ptr__children,\\n.ptr__pull-down {\\n  transition: transform 0.2s cubic-bezier(0, 0, 0.31, 1); }\\n\\n.ptr__pull-down {\\n  position: absolute;\\n  overflow: hidden;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  visibility: hidden; }\\n  .ptr__pull-down > div {\\n    display: none; }\\n\\n.ptr--dragging {\\n  /**\\n    * Hide PullMore content is treshold breached\\n    */\\n  /**\\n    * Otherwize, display content\\n    */ }\\n  .ptr--dragging.ptr--pull-down-treshold-breached .ptr__pull-down--pull-more {\\n    display: none; }\\n  .ptr--dragging .ptr__pull-down--pull-more {\\n    display: block; }\\n\\n.ptr--pull-down-treshold-breached {\\n  /**\\n    * Force opacity to 1 is pull down trashold breached\\n    */\\n  /**\\n    * And display loader\\n    */ }\\n  .ptr--pull-down-treshold-breached .ptr__pull-down {\\n    opacity: 1 !important; }\\n  .ptr--pull-down-treshold-breached .ptr__pull-down--loading {\\n    display: block; }\\n\\n.ptr__loader {\\n  margin: 0 auto;\\n  text-align: center; }\\n\";\nstyleInject(css$1);\n\nvar PullToRefresh = function (_a) {\n  var _b = _a.isPullable,\n      isPullable = _b === void 0 ? true : _b,\n      _c = _a.canFetchMore,\n      canFetchMore = _c === void 0 ? false : _c,\n      onRefresh = _a.onRefresh,\n      onFetchMore = _a.onFetchMore,\n      _d = _a.refreshingContent,\n      refreshingContent = _d === void 0 ? React.createElement(RefreshingContent, null) : _d,\n      _e = _a.pullingContent,\n      pullingContent = _e === void 0 ? React.createElement(PullingContent, null) : _e,\n      children = _a.children,\n      _f = _a.pullDownThreshold,\n      pullDownThreshold = _f === void 0 ? 67 : _f,\n      _g = _a.fetchMoreThreshold,\n      fetchMoreThreshold = _g === void 0 ? 100 : _g,\n      _h = _a.maxPullDownDistance,\n      maxPullDownDistance = _h === void 0 ? 95 : _h,\n      // max distance to scroll to trigger refresh\n  _j = _a.resistance,\n      // max distance to scroll to trigger refresh\n  resistance = _j === void 0 ? 1 : _j,\n      backgroundColor = _a.backgroundColor,\n      _k = _a.className,\n      className = _k === void 0 ? '' : _k;\n  var containerRef = useRef(null);\n  var childrenRef = useRef(null);\n  var pullDownRef = useRef(null);\n  var fetchMoreRef = useRef(null);\n  var pullToRefreshThresholdBreached = false;\n  var fetchMoreTresholdBreached = false; // if true, fetchMore loader is displayed\n\n  var isDragging = false;\n  var startY = 0;\n  var currentY = 0;\n  useEffect(function () {\n    if (!isPullable || !childrenRef || !childrenRef.current) return;\n    var childrenEl = childrenRef.current;\n    childrenEl.addEventListener('touchstart', onTouchStart, {\n      passive: true\n    });\n    childrenEl.addEventListener('mousedown', onTouchStart);\n    childrenEl.addEventListener('touchmove', onTouchMove, {\n      passive: false\n    });\n    childrenEl.addEventListener('mousemove', onTouchMove);\n    window.addEventListener('scroll', onScroll);\n    childrenEl.addEventListener('touchend', onEnd);\n    childrenEl.addEventListener('mouseup', onEnd);\n    document.body.addEventListener('mouseleave', onEnd);\n    return function () {\n      childrenEl.removeEventListener('touchstart', onTouchStart);\n      childrenEl.removeEventListener('mousedown', onTouchStart);\n      childrenEl.removeEventListener('touchmove', onTouchMove);\n      childrenEl.removeEventListener('mousemove', onTouchMove);\n      window.removeEventListener('scroll', onScroll);\n      childrenEl.removeEventListener('touchend', onEnd);\n      childrenEl.removeEventListener('mouseup', onEnd);\n      document.body.removeEventListener('mouseleave', onEnd);\n    };\n  }, [children, isPullable, onRefresh, pullDownThreshold, maxPullDownDistance, canFetchMore, fetchMoreThreshold]);\n  /**\r\n   * Check onMount / canFetchMore becomes true\r\n   *  if fetchMoreThreshold is already breached\r\n   */\n\n  useEffect(function () {\n    var _a;\n    /**\r\n     * Check if it is already in fetching more state\r\n     */\n\n\n    if (!((_a = containerRef) === null || _a === void 0 ? void 0 : _a.current)) return;\n    var isAlreadyFetchingMore = containerRef.current.classList.contains('ptr--fetch-more-treshold-breached');\n    if (isAlreadyFetchingMore) return;\n    /**\r\n     * Proceed\r\n     */\n\n    if (canFetchMore && getScrollToBottomValue() < fetchMoreThreshold && onFetchMore) {\n      containerRef.current.classList.add('ptr--fetch-more-treshold-breached');\n      fetchMoreTresholdBreached = true;\n      onFetchMore().then(initContainer).catch(initContainer);\n    }\n  }, [canFetchMore, children]);\n  /**\r\n   * Returns distance to bottom of the container\r\n   */\n\n  var getScrollToBottomValue = function () {\n    if (!childrenRef || !childrenRef.current) return -1;\n    var scrollTop = window.scrollY; // is the pixels hidden in top due to the scroll. With no scroll its value is 0.\n\n    var scrollHeight = childrenRef.current.scrollHeight; // is the pixels of the whole container\n\n    return scrollHeight - scrollTop - window.innerHeight;\n  };\n\n  var initContainer = function () {\n    requestAnimationFrame(function () {\n      /**\r\n       * Reset Styles\r\n       */\n      if (childrenRef.current) {\n        childrenRef.current.style.overflowX = 'hidden';\n        childrenRef.current.style.overflowY = 'auto';\n        childrenRef.current.style.transform = \"translate(0px, 0px)\";\n      }\n\n      if (pullDownRef.current) {\n        pullDownRef.current.style.opacity = '0';\n      }\n\n      if (containerRef.current) {\n        containerRef.current.classList.remove('ptr--pull-down-treshold-breached');\n        containerRef.current.classList.remove('ptr--dragging');\n        containerRef.current.classList.remove('ptr--fetch-more-treshold-breached');\n      }\n\n      if (pullToRefreshThresholdBreached) pullToRefreshThresholdBreached = false;\n      if (fetchMoreTresholdBreached) fetchMoreTresholdBreached = false;\n    });\n  };\n\n  var onTouchStart = function (e) {\n    isDragging = false;\n\n    if (e instanceof MouseEvent) {\n      startY = e.pageY;\n    }\n\n    if (window.TouchEvent && e instanceof TouchEvent) {\n      startY = e.touches[0].pageY;\n    }\n\n    currentY = startY; // Check if element can be scrolled\n\n    if (e.type === 'touchstart' && isTreeScrollable(e.target, DIRECTION.UP)) {\n      return;\n    } // Top non visible so cancel\n\n\n    if (childrenRef.current.getBoundingClientRect().top < 0) {\n      return;\n    }\n\n    isDragging = true;\n  };\n\n  var onTouchMove = function (e) {\n    if (!isDragging) {\n      return;\n    }\n\n    if (window.TouchEvent && e instanceof TouchEvent) {\n      currentY = e.touches[0].pageY;\n    } else {\n      currentY = e.pageY;\n    }\n\n    containerRef.current.classList.add('ptr--dragging');\n\n    if (currentY < startY) {\n      isDragging = false;\n      return;\n    }\n\n    if (e.cancelable) {\n      e.preventDefault();\n    }\n\n    var yDistanceMoved = Math.min((currentY - startY) / resistance, maxPullDownDistance); // Limit to trigger refresh has been breached\n\n    if (yDistanceMoved >= pullDownThreshold) {\n      isDragging = true;\n      pullToRefreshThresholdBreached = true;\n      containerRef.current.classList.remove('ptr--dragging');\n      containerRef.current.classList.add('ptr--pull-down-treshold-breached');\n    } // maxPullDownDistance breached, stop the animation\n\n\n    if (yDistanceMoved >= maxPullDownDistance) {\n      return;\n    }\n\n    pullDownRef.current.style.opacity = (yDistanceMoved / 65).toString();\n    childrenRef.current.style.overflow = 'visible';\n    childrenRef.current.style.transform = \"translate(0px, \" + yDistanceMoved + \"px)\";\n    pullDownRef.current.style.visibility = 'visible';\n  };\n\n  var onScroll = function (e) {\n    /**\r\n     * Check if component has already called onFetchMore\r\n     */\n    if (fetchMoreTresholdBreached) return;\n    /**\r\n     * Check if user breached fetchMoreThreshold\r\n     */\n\n    if (canFetchMore && getScrollToBottomValue() < fetchMoreThreshold && onFetchMore) {\n      fetchMoreTresholdBreached = true;\n      containerRef.current.classList.add('ptr--fetch-more-treshold-breached');\n      onFetchMore().then(initContainer).catch(initContainer);\n    }\n  };\n\n  var onEnd = function () {\n    isDragging = false;\n    startY = 0;\n    currentY = 0; // Container has not been dragged enough, put it back to it's initial state\n\n    if (!pullToRefreshThresholdBreached) {\n      if (pullDownRef.current) pullDownRef.current.style.visibility = 'hidden';\n      initContainer();\n      return;\n    }\n\n    if (childrenRef.current) {\n      childrenRef.current.style.overflow = 'visible';\n      childrenRef.current.style.transform = \"translate(0px, \" + pullDownThreshold + \"px)\";\n    }\n\n    onRefresh().then(initContainer).catch(initContainer);\n  };\n\n  return React.createElement(\"div\", {\n    className: \"ptr \" + className,\n    style: {\n      backgroundColor: backgroundColor\n    },\n    ref: containerRef\n  }, React.createElement(\"div\", {\n    className: \"ptr__pull-down\",\n    ref: pullDownRef\n  }, React.createElement(\"div\", {\n    className: \"ptr__loader ptr__pull-down--loading\"\n  }, refreshingContent), React.createElement(\"div\", {\n    className: \"ptr__pull-down--pull-more\"\n  }, pullingContent)), React.createElement(\"div\", {\n    className: \"ptr__children\",\n    ref: childrenRef\n  }, children, React.createElement(\"div\", {\n    className: \"ptr__fetch-more\",\n    ref: fetchMoreRef\n  }, React.createElement(\"div\", {\n    className: \"ptr__loader ptr__fetch-more--loading\"\n  }, refreshingContent))));\n};\n\nexport default PullToRefresh;","map":{"version":3,"names":["React","useRef","useEffect","DIRECTION","isOverflowScrollable","element","overflowType","getComputedStyle","overflowY","document","scrollingElement","isScrollable","direction","DOWN","bottomScroll","scrollTop","clientHeight","scrollHeight","UP","Error","isTreeScrollable","parentElement","styleInject","css","ref","insertAt","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","RefreshingContent","className","PullingContent","css$1","PullToRefresh","_a","_b","isPullable","_c","canFetchMore","onRefresh","onFetchMore","_d","refreshingContent","_e","pullingContent","children","_f","pullDownThreshold","_g","fetchMoreThreshold","_h","maxPullDownDistance","_j","resistance","backgroundColor","_k","containerRef","childrenRef","pullDownRef","fetchMoreRef","pullToRefreshThresholdBreached","fetchMoreTresholdBreached","isDragging","startY","currentY","current","childrenEl","addEventListener","onTouchStart","passive","onTouchMove","window","onScroll","onEnd","body","removeEventListener","isAlreadyFetchingMore","classList","contains","getScrollToBottomValue","add","then","initContainer","catch","scrollY","innerHeight","requestAnimationFrame","overflowX","transform","opacity","remove","e","MouseEvent","pageY","TouchEvent","touches","target","getBoundingClientRect","top","cancelable","preventDefault","yDistanceMoved","Math","min","toString","overflow","visibility"],"sources":["/Users/thinhnguyen/challenge/movie-project/node_modules/react-simple-pull-to-refresh/build/index.esm.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\n\nvar DIRECTION;\r\n(function (DIRECTION) {\r\n    DIRECTION[DIRECTION[\"UP\"] = -1] = \"UP\";\r\n    DIRECTION[DIRECTION[\"DOWN\"] = 1] = \"DOWN\";\r\n})(DIRECTION || (DIRECTION = {}));\n\nfunction isOverflowScrollable(element) {\r\n    var overflowType = getComputedStyle(element).overflowY;\r\n    if (element === document.scrollingElement && overflowType === 'visible') {\r\n        return true;\r\n    }\r\n    if (overflowType !== 'scroll' && overflowType !== 'auto') {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\nfunction isScrollable(element, direction) {\r\n    if (!isOverflowScrollable(element)) {\r\n        return false;\r\n    }\r\n    if (direction === DIRECTION.DOWN) {\r\n        var bottomScroll = element.scrollTop + element.clientHeight;\r\n        return bottomScroll < element.scrollHeight;\r\n    }\r\n    if (direction === DIRECTION.UP) {\r\n        return element.scrollTop > 0;\r\n    }\r\n    throw new Error('unsupported direction');\r\n}\r\n/**\r\n * Returns whether a given element or any of its ancestors (up to rootElement) is scrollable in a given direction.\r\n */\r\nfunction isTreeScrollable(element, direction) {\r\n    if (isScrollable(element, direction)) {\r\n        return true;\r\n    }\r\n    if (element.parentElement == null) {\r\n        return false;\r\n    }\r\n    return isTreeScrollable(element.parentElement, direction);\r\n}\n\nfunction styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".lds-ellipsis {\\n  display: inline-block;\\n  position: relative;\\n  width: 64px;\\n  height: 64px; }\\n\\n.lds-ellipsis div {\\n  position: absolute;\\n  top: 27px;\\n  width: 11px;\\n  height: 11px;\\n  border-radius: 50%;\\n  background: #363636;\\n  animation-timing-function: cubic-bezier(0, 1, 1, 0); }\\n\\n.lds-ellipsis div:nth-child(1) {\\n  left: 6px;\\n  animation: lds-ellipsis1 0.6s infinite; }\\n\\n.lds-ellipsis div:nth-child(2) {\\n  left: 6px;\\n  animation: lds-ellipsis2 0.6s infinite; }\\n\\n.lds-ellipsis div:nth-child(3) {\\n  left: 26px;\\n  animation: lds-ellipsis2 0.6s infinite; }\\n\\n.lds-ellipsis div:nth-child(4) {\\n  left: 45px;\\n  animation: lds-ellipsis3 0.6s infinite; }\\n\\n@keyframes lds-ellipsis1 {\\n  0% {\\n    transform: scale(0); }\\n  100% {\\n    transform: scale(1); } }\\n\\n@keyframes lds-ellipsis3 {\\n  0% {\\n    transform: scale(1); }\\n  100% {\\n    transform: scale(0); } }\\n\\n@keyframes lds-ellipsis2 {\\n  0% {\\n    transform: translate(0, 0); }\\n  100% {\\n    transform: translate(19px, 0); } }\\n\";\nstyleInject(css);\n\n// Source: https://loading.io/css/\r\nvar RefreshingContent = function () {\r\n    return (React.createElement(\"div\", { className: \"lds-ellipsis\" },\r\n        React.createElement(\"div\", null),\r\n        React.createElement(\"div\", null),\r\n        React.createElement(\"div\", null),\r\n        React.createElement(\"div\", null)));\r\n};\n\nvar PullingContent = function () {\r\n    return (React.createElement(\"div\", null,\r\n        React.createElement(\"p\", null, \"\\u21A7\\u00A0\\u00A0pull to refresh\\u00A0\\u00A0\\u21A7\")));\r\n};\n\nvar css$1 = \".ptr,\\n.ptr__children {\\n  height: 100%;\\n  width: 100%;\\n  overflow: hidden;\\n  -webkit-overflow-scrolling: touch;\\n  position: relative; }\\n\\n.ptr.ptr--fetch-more-treshold-breached .ptr__fetch-more {\\n  display: block; }\\n\\n.ptr__fetch-more {\\n  display: none; }\\n\\n/**\\n  * Pull down transition \\n  */\\n.ptr__children,\\n.ptr__pull-down {\\n  transition: transform 0.2s cubic-bezier(0, 0, 0.31, 1); }\\n\\n.ptr__pull-down {\\n  position: absolute;\\n  overflow: hidden;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  visibility: hidden; }\\n  .ptr__pull-down > div {\\n    display: none; }\\n\\n.ptr--dragging {\\n  /**\\n    * Hide PullMore content is treshold breached\\n    */\\n  /**\\n    * Otherwize, display content\\n    */ }\\n  .ptr--dragging.ptr--pull-down-treshold-breached .ptr__pull-down--pull-more {\\n    display: none; }\\n  .ptr--dragging .ptr__pull-down--pull-more {\\n    display: block; }\\n\\n.ptr--pull-down-treshold-breached {\\n  /**\\n    * Force opacity to 1 is pull down trashold breached\\n    */\\n  /**\\n    * And display loader\\n    */ }\\n  .ptr--pull-down-treshold-breached .ptr__pull-down {\\n    opacity: 1 !important; }\\n  .ptr--pull-down-treshold-breached .ptr__pull-down--loading {\\n    display: block; }\\n\\n.ptr__loader {\\n  margin: 0 auto;\\n  text-align: center; }\\n\";\nstyleInject(css$1);\n\nvar PullToRefresh = function (_a) {\r\n    var _b = _a.isPullable, isPullable = _b === void 0 ? true : _b, _c = _a.canFetchMore, canFetchMore = _c === void 0 ? false : _c, onRefresh = _a.onRefresh, onFetchMore = _a.onFetchMore, _d = _a.refreshingContent, refreshingContent = _d === void 0 ? React.createElement(RefreshingContent, null) : _d, _e = _a.pullingContent, pullingContent = _e === void 0 ? React.createElement(PullingContent, null) : _e, children = _a.children, _f = _a.pullDownThreshold, pullDownThreshold = _f === void 0 ? 67 : _f, _g = _a.fetchMoreThreshold, fetchMoreThreshold = _g === void 0 ? 100 : _g, _h = _a.maxPullDownDistance, maxPullDownDistance = _h === void 0 ? 95 : _h, // max distance to scroll to trigger refresh\r\n    _j = _a.resistance, // max distance to scroll to trigger refresh\r\n    resistance = _j === void 0 ? 1 : _j, backgroundColor = _a.backgroundColor, _k = _a.className, className = _k === void 0 ? '' : _k;\r\n    var containerRef = useRef(null);\r\n    var childrenRef = useRef(null);\r\n    var pullDownRef = useRef(null);\r\n    var fetchMoreRef = useRef(null);\r\n    var pullToRefreshThresholdBreached = false;\r\n    var fetchMoreTresholdBreached = false; // if true, fetchMore loader is displayed\r\n    var isDragging = false;\r\n    var startY = 0;\r\n    var currentY = 0;\r\n    useEffect(function () {\r\n        if (!isPullable || !childrenRef || !childrenRef.current)\r\n            return;\r\n        var childrenEl = childrenRef.current;\r\n        childrenEl.addEventListener('touchstart', onTouchStart, { passive: true });\r\n        childrenEl.addEventListener('mousedown', onTouchStart);\r\n        childrenEl.addEventListener('touchmove', onTouchMove, { passive: false });\r\n        childrenEl.addEventListener('mousemove', onTouchMove);\r\n        window.addEventListener('scroll', onScroll);\r\n        childrenEl.addEventListener('touchend', onEnd);\r\n        childrenEl.addEventListener('mouseup', onEnd);\r\n        document.body.addEventListener('mouseleave', onEnd);\r\n        return function () {\r\n            childrenEl.removeEventListener('touchstart', onTouchStart);\r\n            childrenEl.removeEventListener('mousedown', onTouchStart);\r\n            childrenEl.removeEventListener('touchmove', onTouchMove);\r\n            childrenEl.removeEventListener('mousemove', onTouchMove);\r\n            window.removeEventListener('scroll', onScroll);\r\n            childrenEl.removeEventListener('touchend', onEnd);\r\n            childrenEl.removeEventListener('mouseup', onEnd);\r\n            document.body.removeEventListener('mouseleave', onEnd);\r\n        };\r\n    }, [\r\n        children,\r\n        isPullable,\r\n        onRefresh,\r\n        pullDownThreshold,\r\n        maxPullDownDistance,\r\n        canFetchMore,\r\n        fetchMoreThreshold,\r\n    ]);\r\n    /**\r\n     * Check onMount / canFetchMore becomes true\r\n     *  if fetchMoreThreshold is already breached\r\n     */\r\n    useEffect(function () {\r\n        var _a;\r\n        /**\r\n         * Check if it is already in fetching more state\r\n         */\r\n        if (!((_a = containerRef) === null || _a === void 0 ? void 0 : _a.current))\r\n            return;\r\n        var isAlreadyFetchingMore = containerRef.current.classList.contains('ptr--fetch-more-treshold-breached');\r\n        if (isAlreadyFetchingMore)\r\n            return;\r\n        /**\r\n         * Proceed\r\n         */\r\n        if (canFetchMore && getScrollToBottomValue() < fetchMoreThreshold && onFetchMore) {\r\n            containerRef.current.classList.add('ptr--fetch-more-treshold-breached');\r\n            fetchMoreTresholdBreached = true;\r\n            onFetchMore().then(initContainer).catch(initContainer);\r\n        }\r\n    }, [canFetchMore, children]);\r\n    /**\r\n     * Returns distance to bottom of the container\r\n     */\r\n    var getScrollToBottomValue = function () {\r\n        if (!childrenRef || !childrenRef.current)\r\n            return -1;\r\n        var scrollTop = window.scrollY; // is the pixels hidden in top due to the scroll. With no scroll its value is 0.\r\n        var scrollHeight = childrenRef.current.scrollHeight; // is the pixels of the whole container\r\n        return scrollHeight - scrollTop - window.innerHeight;\r\n    };\r\n    var initContainer = function () {\r\n        requestAnimationFrame(function () {\r\n            /**\r\n             * Reset Styles\r\n             */\r\n            if (childrenRef.current) {\r\n                childrenRef.current.style.overflowX = 'hidden';\r\n                childrenRef.current.style.overflowY = 'auto';\r\n                childrenRef.current.style.transform = \"translate(0px, 0px)\";\r\n            }\r\n            if (pullDownRef.current) {\r\n                pullDownRef.current.style.opacity = '0';\r\n            }\r\n            if (containerRef.current) {\r\n                containerRef.current.classList.remove('ptr--pull-down-treshold-breached');\r\n                containerRef.current.classList.remove('ptr--dragging');\r\n                containerRef.current.classList.remove('ptr--fetch-more-treshold-breached');\r\n            }\r\n            if (pullToRefreshThresholdBreached)\r\n                pullToRefreshThresholdBreached = false;\r\n            if (fetchMoreTresholdBreached)\r\n                fetchMoreTresholdBreached = false;\r\n        });\r\n    };\r\n    var onTouchStart = function (e) {\r\n        isDragging = false;\r\n        if (e instanceof MouseEvent) {\r\n            startY = e.pageY;\r\n        }\r\n        if (window.TouchEvent && e instanceof TouchEvent) {\r\n            startY = e.touches[0].pageY;\r\n        }\r\n        currentY = startY;\r\n        // Check if element can be scrolled\r\n        if (e.type === 'touchstart' && isTreeScrollable(e.target, DIRECTION.UP)) {\r\n            return;\r\n        }\r\n        // Top non visible so cancel\r\n        if (childrenRef.current.getBoundingClientRect().top < 0) {\r\n            return;\r\n        }\r\n        isDragging = true;\r\n    };\r\n    var onTouchMove = function (e) {\r\n        if (!isDragging) {\r\n            return;\r\n        }\r\n        if (window.TouchEvent && e instanceof TouchEvent) {\r\n            currentY = e.touches[0].pageY;\r\n        }\r\n        else {\r\n            currentY = e.pageY;\r\n        }\r\n        containerRef.current.classList.add('ptr--dragging');\r\n        if (currentY < startY) {\r\n            isDragging = false;\r\n            return;\r\n        }\r\n        if (e.cancelable) {\r\n            e.preventDefault();\r\n        }\r\n        var yDistanceMoved = Math.min((currentY - startY) / resistance, maxPullDownDistance);\r\n        // Limit to trigger refresh has been breached\r\n        if (yDistanceMoved >= pullDownThreshold) {\r\n            isDragging = true;\r\n            pullToRefreshThresholdBreached = true;\r\n            containerRef.current.classList.remove('ptr--dragging');\r\n            containerRef.current.classList.add('ptr--pull-down-treshold-breached');\r\n        }\r\n        // maxPullDownDistance breached, stop the animation\r\n        if (yDistanceMoved >= maxPullDownDistance) {\r\n            return;\r\n        }\r\n        pullDownRef.current.style.opacity = ((yDistanceMoved) / 65).toString();\r\n        childrenRef.current.style.overflow = 'visible';\r\n        childrenRef.current.style.transform = \"translate(0px, \" + yDistanceMoved + \"px)\";\r\n        pullDownRef.current.style.visibility = 'visible';\r\n    };\r\n    var onScroll = function (e) {\r\n        /**\r\n         * Check if component has already called onFetchMore\r\n         */\r\n        if (fetchMoreTresholdBreached)\r\n            return;\r\n        /**\r\n         * Check if user breached fetchMoreThreshold\r\n         */\r\n        if (canFetchMore && getScrollToBottomValue() < fetchMoreThreshold && onFetchMore) {\r\n            fetchMoreTresholdBreached = true;\r\n            containerRef.current.classList.add('ptr--fetch-more-treshold-breached');\r\n            onFetchMore().then(initContainer).catch(initContainer);\r\n        }\r\n    };\r\n    var onEnd = function () {\r\n        isDragging = false;\r\n        startY = 0;\r\n        currentY = 0;\r\n        // Container has not been dragged enough, put it back to it's initial state\r\n        if (!pullToRefreshThresholdBreached) {\r\n            if (pullDownRef.current)\r\n                pullDownRef.current.style.visibility = 'hidden';\r\n            initContainer();\r\n            return;\r\n        }\r\n        if (childrenRef.current) {\r\n            childrenRef.current.style.overflow = 'visible';\r\n            childrenRef.current.style.transform = \"translate(0px, \" + pullDownThreshold + \"px)\";\r\n        }\r\n        onRefresh().then(initContainer).catch(initContainer);\r\n    };\r\n    return (React.createElement(\"div\", { className: \"ptr \" + className, style: { backgroundColor: backgroundColor }, ref: containerRef },\r\n        React.createElement(\"div\", { className: \"ptr__pull-down\", ref: pullDownRef },\r\n            React.createElement(\"div\", { className: \"ptr__loader ptr__pull-down--loading\" }, refreshingContent),\r\n            React.createElement(\"div\", { className: \"ptr__pull-down--pull-more\" }, pullingContent)),\r\n        React.createElement(\"div\", { className: \"ptr__children\", ref: childrenRef },\r\n            children,\r\n            React.createElement(\"div\", { className: \"ptr__fetch-more\", ref: fetchMoreRef },\r\n                React.createElement(\"div\", { className: \"ptr__loader ptr__fetch-more--loading\" }, refreshingContent)))));\r\n};\n\nexport default PullToRefresh;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}